/*M!999999\- enable the sandbox mode */ 
-- MariaDB dump 10.19  Distrib 10.6.22-MariaDB, for debian-linux-gnu (x86_64)
--
-- Host: localhost    Database: udemy_bot
-- ------------------------------------------------------
-- Server version	10.6.22-MariaDB-0ubuntu0.22.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `udemy_bot`
--

/*!40000 DROP DATABASE IF EXISTS `udemy_bot`*/;

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `udemy_bot` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */;

USE `udemy_bot`;

--
-- Table structure for table `courses`
--

DROP TABLE IF EXISTS `courses`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `courses` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `course_url` text NOT NULL COMMENT 'URL của khóa học (Udemy, Coursera, etc.)',
  `title` varchar(500) NOT NULL COMMENT 'Tên khóa học',
  `thumbnail` text DEFAULT NULL COMMENT 'URL hình ảnh thumbnail',
  `instructor` varchar(255) DEFAULT NULL COMMENT 'Tên giảng viên',
  `rating` decimal(3,2) DEFAULT NULL COMMENT 'Đánh giá (0.00 - 5.00)',
  `students` int(10) unsigned DEFAULT NULL COMMENT 'Số lượng học viên',
  `duration` varchar(50) DEFAULT NULL COMMENT 'Thời lượng khóa học (ví dụ: "54.5 hours")',
  `lectures` int(10) unsigned DEFAULT NULL COMMENT 'Số lượng bài giảng',
  `category` varchar(255) DEFAULT NULL COMMENT 'Category của khóa học (Lập trình, Thiết kế, Marketing, etc.)',
  `platform` varchar(50) DEFAULT 'Udemy' COMMENT 'Nền tảng (Udemy, Coursera, LinkedIn Learning, etc.)',
  `description` text DEFAULT NULL COMMENT 'Mô tả khóa học',
  `price` decimal(15,0) NOT NULL DEFAULT 2000 COMMENT 'Giá bán (VND)',
  `original_price` decimal(15,0) DEFAULT NULL COMMENT 'Giá gốc (VND)',
  `bestseller` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Có phải bestseller không',
  `drive_link` text DEFAULT NULL COMMENT 'Link Google Drive nếu đã download (sync từ download_tasks)',
  `status` enum('active','inactive') NOT NULL DEFAULT 'active' COMMENT 'Trạng thái: active hoặc inactive',
  `total_sections` int(10) unsigned DEFAULT NULL COMMENT 'Tổng số sections trong curriculum',
  `total_lectures` int(10) unsigned DEFAULT NULL COMMENT 'Tổng số lectures trong curriculum',
  `total_duration_seconds` int(10) unsigned DEFAULT NULL COMMENT 'Tổng thời lượng curriculum (giây)',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `course_url` (`course_url`) USING HASH,
  KEY `idx_category` (`category`),
  KEY `idx_platform` (`platform`),
  KEY `idx_status` (`status`),
  KEY `idx_bestseller` (`bestseller`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `courses`
--

LOCK TABLES `courses` WRITE;
/*!40000 ALTER TABLE `courses` DISABLE KEYS */;
INSERT INTO `courses` VALUES (1,'https://www.udemy.com/course/learn-and-understand-apis-and-restful-apis/','Understanding APIs and RESTful APIs Crash Course','https://img-c.udemycdn.com/course/480x270/2425522_6d25.jpg','Created by Kalob Taulien',4.40,63192,'0.72',22,'AWS Certified Solutions Architect - Associate','Udemy','An introduction to how APIs and RESTful APIs work. No coding in this course, it\'s all conceptual.',2000,NULL,0,NULL,'active',3,22,2577,'2026-01-22 15:29:35','2026-01-22 15:35:53'),(2,'https://www.udemy.com/course/css-crash-course-for-beginners-g/','CSS Crash Course For Beginners','https://img-c.udemycdn.com/course/480x270/4260672_f402.jpg','PROPER DOT INSTITUTE',4.50,1842,'0.75',7,'CSS','Udemy','<p><strong><em>Learn CSS Crash Course</em></strong></p><ul><li><p>Ever wonder how the latest website designs are made? Cascading Style Sheets (CSS) are the main coding files used to layout a website and its design. CSS 3 is the latest in styling standards, and it brings several new properties and declarations you can use to make your website design more easily created. CSS is currently the only standard in website design that plugs directly into your HTML, even the latest HTML 5 standards. With CSS 3 and HTML 5, you can create the latest interactive pages for your website viewers.</p></li><li><p>This course shows you how to create CSS classes from a beginner\'s level. It starts off with basic HTML declarations, properties, values, and how to include a CSS style sheet with your HTML code. For those of you who are new to CSS and HTML, we show you step-by-step how to create a CSS file and include it in your HTML code, even if you use a cloud server for your hosting.</p></li><li><p>We show you how to position your elements, layout your elements relative to your documents, and style your HTML using predefined CSS values. We introduce you to the common CSS styling that you\'ll need when you start off designing your pages. If you want to get to know CSS and website design, this course is meant for you, and it can be used by anyone who hasn\'t even seen one line of CSS code yet. We focus on the latest CSS 3 and HTML 5 standards, so you get the latest when coding your website pages instead of focusing on older code.</p></li><li><p>There are no prerequisites. Anyone Can join this course. It is recommended though that individual have some basic computer programming knowledge.</p></li><li><p><br /></p></li><li><p><strong>Course Topics</strong></p><p><br /></p></li><li><p>Introduction to CSS</p></li><li><p>CSS Syntax</p></li><li><p>HTML 5 IN CSS</p></li><li><p>CSS Styling Text</p></li><li><p>CSS Page Backgrounds</p></li><li><p>CSS Animation<br /></p></li><li><p><strong>Thank you see you inside the course</strong></p></li></ul>',2000,NULL,0,NULL,'active',1,7,2714,'2026-01-22 15:29:35','2026-01-22 15:35:54');
/*!40000 ALTER TABLE `courses` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `download_tasks`
--

DROP TABLE IF EXISTS `download_tasks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `download_tasks` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `order_id` int(10) unsigned DEFAULT NULL,
  `email` varchar(255) NOT NULL,
  `phone_number` varchar(20) DEFAULT NULL,
  `course_url` text NOT NULL,
  `title` varchar(255) DEFAULT NULL,
  `price` decimal(15,0) NOT NULL DEFAULT 0 COMMENT 'Giá bán thực tế của khóa này trong đơn hàng',
  `status` enum('paid','pending','processing','enrolled','completed','failed') DEFAULT 'pending',
  `drive_link` text DEFAULT NULL,
  `retry_count` int(11) DEFAULT 0,
  `error_log` text DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `order_id` (`order_id`),
  CONSTRAINT `download_tasks_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=127 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `download_tasks`
--

LOCK TABLES `download_tasks` WRITE;
/*!40000 ALTER TABLE `download_tasks` DISABLE KEYS */;
INSERT INTO `download_tasks` VALUES (53,35,'dobachkhoa2k1@gmail.com',NULL,'https://samsungu.udemy.com/course/machine-learning-for-absolute-beginners-level-2/','Machine Learning for Absolute Beginners - Level 2',39800,'completed','https://drive.google.com/drive/folders/1OYyZPpjCoTDDmUTWXAe-UC-yKeqZYdqJ',0,NULL,'2026-01-16 17:12:59','2026-01-16 17:19:22'),(54,35,'dobachkhoa2k1@gmail.com',NULL,'https://samsungu.udemy.com/course/intro-to-data-science/','Intro to Data Science: QuickStart Guide + AI & ChatGPT Prize',39800,'completed','https://drive.google.com/drive/folders/1UuVplXGB29b1f_6NG1d3LpbveRYnhAmz',0,NULL,'2026-01-16 17:12:59','2026-01-16 17:21:05'),(55,35,'dobachkhoa2k1@gmail.com',NULL,'https://samsungu.udemy.com/course/r-analytics/','R Programming: Advanced Analytics In R For Data Science',39800,'completed','https://drive.google.com/drive/folders/1fWIC5nMfuoOh4nQXvO6AmUUPmYrlZ5V3',0,NULL,'2026-01-16 17:12:59','2026-01-16 17:25:32'),(56,35,'dobachkhoa2k1@gmail.com',NULL,'https://samsungu.udemy.com/course/machine-learning-for-data-science/','Introduction to Machine Learning for Data Science',39800,'completed','https://drive.google.com/drive/folders/1b8yjdQ3rcYztLe3btivsR2j4Df8WLHh3',0,NULL,'2026-01-16 17:12:59','2026-01-16 17:30:16'),(57,35,'dobachkhoa2k1@gmail.com',NULL,'https://samsungu.udemy.com/course/statistics-for-data-science-and-business-analysis/','Data Science Statistics for Data Scientists and Business Analysis',39800,'completed','https://drive.google.com/drive/folders/1k8uF8WeYPEqOur2QWHyYWoEGUzijaMmh',0,NULL,'2026-01-16 17:12:59','2026-01-16 17:35:58'),(58,36,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/machine-learning-for-data-science/','Introduction to Machine Learning for Data Science',50000,'completed','https://drive.google.com/drive/folders/1b8yjdQ3rcYztLe3btivsR2j4Df8WLHh3',0,NULL,'2026-01-17 03:02:47','2026-01-17 03:28:02'),(59,37,'downloadudemyfull@gmail.com',NULL,'https://samsungu.udemy.com/course/java-tutorial/','Free Java Tutorial - Learning Java for Complete Beginners',50000,'completed','https://drive.google.com/drive/folders/1lYg4QaeSd-sKuS0wzi-a4gnJFdt0eR2r',0,NULL,'2026-01-17 07:12:58','2026-01-17 14:23:32'),(60,38,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/machine-learning-for-absolute-beginners-level-2/','Machine Learning for Absolute Beginners - Level 2',50000,'pending',NULL,0,NULL,'2026-01-17 18:58:56','2026-01-17 18:58:56'),(61,39,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/r-analytics/','R Programming: Advanced Analytics In R For Data Science',50000,'failed',NULL,0,'Task was marked as completed but has no drive_link. This indicates the webhook was not called successfully or the drive folder was not found. This task was fixed automatically.','2026-01-17 18:59:56','2026-01-18 13:01:39'),(62,40,'test@example.com',NULL,'https://samsungu.udemy.com/course/test-course/','Test Course',0,'pending',NULL,0,NULL,'2026-01-18 01:39:25','2026-01-18 01:39:25'),(63,41,'test@example.com',NULL,'https://samsungu.udemy.com/course/test-course/','Test Course',0,'pending',NULL,0,NULL,'2026-01-18 01:39:39','2026-01-18 01:39:39'),(64,42,'test@example.com',NULL,'https://samsungu.udemy.com/course/test-course/','Test Course',0,'pending',NULL,0,NULL,'2026-01-18 01:40:53','2026-01-18 01:40:53'),(65,43,'test@example.com',NULL,'https://samsungu.udemy.com/course/test-course/','Test Course',0,'pending',NULL,0,NULL,'2026-01-18 01:42:23','2026-01-18 01:42:23'),(66,44,'test@example.com',NULL,'https://samsungu.udemy.com/course/test-course/','Test Course',0,'failed',NULL,0,NULL,'2026-01-18 01:42:58','2026-01-18 01:47:38'),(67,45,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/microsoft-powerpoint-powerpoint-from-beginner-to-pro/','Microsoft PowerPoint: PowerPoint from Beginner to Pro',50000,'failed','https://drive.google.com/drive/folders/1FO6HLbw56kAvjLI1aaAJLF9ewE_mpFky',0,NULL,'2026-01-18 02:02:50','2026-01-18 09:37:29'),(68,46,'dobachkhoa2k1@gmail.com',NULL,'https://samsungu.udemy.com/course/introduction-to-cloud-computing/','Introduction to Cloud Computing',50000,'completed','https://drive.google.com/drive/folders/1Hjsy9xmOJU8l-wlK_90C5B5nb3kObreU',0,NULL,'2026-01-18 02:15:07','2026-01-18 12:56:18'),(69,47,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/java-oop-iter-academy/','Java OOP: Object Oriented Programming with Exercises – 2026',50000,'completed','https://drive.google.com/drive/folders/1FXolUkznDhhp_9e5i3YHMj5khBF6Ru8E',0,NULL,'2026-01-18 13:06:59','2026-01-18 13:11:01'),(70,48,'downloadudemyfull@gmail.com',NULL,'https://samsungu.udemy.com/course/modern-java-learn-java-8-features-by-coding-it/','Modern Java: Mastering Features from Java 8 to Java 25',50000,'pending',NULL,0,NULL,'2026-01-18 14:17:24','2026-01-18 14:17:24'),(71,49,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/modern-java-learn-java-8-features-by-coding-it/','Modern Java: Mastering Features from Java 8 to Java 25',50000,'pending',NULL,0,NULL,'2026-01-18 14:41:35','2026-01-18 14:41:35'),(72,50,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'completed','https://drive.google.com/drive/folders/18oBmGhWePSeprSJ_SuM795_jgv8k7AE6',0,NULL,'2026-01-18 14:54:03','2026-01-18 14:59:44'),(73,51,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-18 15:30:16','2026-01-18 15:30:16'),(74,52,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-18 15:30:29','2026-01-18 15:30:29'),(75,53,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-18 16:47:33','2026-01-18 16:47:33'),(76,54,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-18 16:50:25','2026-01-18 16:50:25'),(77,55,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-18 17:27:19','2026-01-18 17:27:19'),(78,56,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/machine-learning-for-absolute-beginners-level-2/','Machine Learning for Absolute Beginners - Level 2',50000,'pending',NULL,0,NULL,'2026-01-18 18:42:30','2026-01-18 18:42:30'),(79,57,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-19 02:37:52','2026-01-19 02:37:52'),(80,58,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-19 02:59:05','2026-01-19 02:59:05'),(81,59,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'completed','https://drive.google.com/drive/folders/18oBmGhWePSeprSJ_SuM795_jgv8k7AE6',0,NULL,'2026-01-19 03:03:24','2026-01-19 03:07:31'),(82,60,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/khoa-hoc-ngu-phap-tieng-nhat-minna-no-nihongo-n5/','Khóa học Ngữ pháp Tiếng Nhật (Minna No Nihongo N5) みんなの日本語',50000,'pending',NULL,0,NULL,'2026-01-19 07:48:23','2026-01-19 07:48:23'),(83,60,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/ren-luyen-ky-nang-doc-hieu-tieng-nhat-jlpt-n4/','Khóa học rèn luyện kỹ năng đọc hiểu tiếng Nhật JLPT N4',50000,'pending',NULL,0,NULL,'2026-01-19 07:48:23','2026-01-19 07:48:23'),(84,60,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/hoc-chu-cai-tieng-nhat-cho-nguoi-moi/','Chữ Cái Tiếng Nhật Và Từ Vựng Tiếng Nhật N5',50000,'pending',NULL,0,NULL,'2026-01-19 07:48:23','2026-01-19 07:48:23'),(85,60,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/tieng-nhat-giao-tiep-cho-nguoi-i-lam-n5/','Tiếng Nhật giao tiếp cho người đi làm N5',50000,'pending',NULL,0,NULL,'2026-01-19 07:48:23','2026-01-19 07:48:23'),(86,60,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'pending',NULL,0,NULL,'2026-01-19 07:48:23','2026-01-19 07:48:23'),(87,60,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/chua-de-thi-jlpt-n4/','Hướng dẫn chữa đề thi năng lực tiếng Nhật JLPT N4',50000,'pending',NULL,0,NULL,'2026-01-19 07:48:23','2026-01-19 07:48:23'),(88,61,'19d140071@gmail.com',NULL,'https://samsungu.udemy.com/course/khoa-hoc-ngu-phap-tieng-nhat-minna-no-nihongo-n5/','Khóa học Ngữ pháp Tiếng Nhật (Minna No Nihongo N5) みんなの日本語',50000,'completed','https://drive.google.com/drive/folders/1QA8phf-C2HdySlkEURxq2dFSj7jTARMM',0,NULL,'2026-01-19 07:49:07','2026-01-19 08:08:30'),(89,61,'19d140071@gmail.com',NULL,'https://samsungu.udemy.com/course/ren-luyen-ky-nang-doc-hieu-tieng-nhat-jlpt-n4/','Khóa học rèn luyện kỹ năng đọc hiểu tiếng Nhật JLPT N4',50000,'completed','https://drive.google.com/drive/folders/1oGNYe89Seti8hnhFGEF0LIJk5vGDFZEc',0,NULL,'2026-01-19 07:49:07','2026-01-19 07:52:48'),(90,61,'19d140071@gmail.com',NULL,'https://samsungu.udemy.com/course/hoc-chu-cai-tieng-nhat-cho-nguoi-moi/','Chữ Cái Tiếng Nhật Và Từ Vựng Tiếng Nhật N5',50000,'completed','https://drive.google.com/drive/folders/1FVW-xiRaArNbdH3JBktpRzK8k7a0oNYo',0,NULL,'2026-01-19 07:49:07','2026-01-19 08:08:11'),(91,61,'19d140071@gmail.com',NULL,'https://samsungu.udemy.com/course/tieng-nhat-giao-tiep-cho-nguoi-i-lam-n5/','Tiếng Nhật giao tiếp cho người đi làm N5',50000,'completed','https://drive.google.com/drive/folders/1OTwPQhAYz5w-9fD-a98ytmr7YUw_13u3',0,NULL,'2026-01-19 07:49:07','2026-01-19 08:20:06'),(92,61,'19d140071@gmail.com',NULL,'https://samsungu.udemy.com/course/huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt/','Hướng dẫn chữa đề thi năng lực Tiếng Nhật cấp độ N5 JLPT',50000,'completed','https://drive.google.com/drive/folders/18oBmGhWePSeprSJ_SuM795_jgv8k7AE6',0,NULL,'2026-01-19 07:49:07','2026-01-19 08:10:45'),(93,61,'19d140071@gmail.com',NULL,'https://samsungu.udemy.com/course/chua-de-thi-jlpt-n4/','Hướng dẫn chữa đề thi năng lực tiếng Nhật JLPT N4',50000,'completed','https://drive.google.com/drive/folders/1-aoo8Dn8_rGVaHALituNZpKKfU5cUnG_',0,NULL,'2026-01-19 07:49:07','2026-01-19 08:14:25'),(94,62,'getcourses.net@gmail.com',NULL,'https://samsungu.udemy.com/course/generative-ai-for-beginners-b/','Generative AI for Beginners',50000,'completed','https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll',0,NULL,'2026-01-19 15:23:48','2026-01-19 15:27:59'),(95,63,'getcourses.net@gmail.com',NULL,'https://samsungu.udemy.com/course/generative-ai-for-beginners-b/','Generative AI for Beginners',50000,'completed','https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll',0,NULL,'2026-01-19 15:46:04','2026-01-19 15:49:00'),(96,64,'getcourses.net@gmail.com',NULL,'https://samsungu.udemy.com/course/generative-ai-for-beginners-b/','Generative AI for Beginners',50000,'completed','https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll',0,NULL,'2026-01-19 15:50:25','2026-01-19 15:53:19'),(97,65,'getcourses.net@gmail.com',NULL,'https://samsungu.udemy.com/course/generative-ai-for-beginners-b/','Generative AI for Beginners',50000,'completed','https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll',0,NULL,'2026-01-19 15:54:22','2026-01-19 15:57:13'),(98,66,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/30-days-of-code-the-complete-python-bootcamp-vietnamese/','Lập Trình Python Từ Cơ Bản Đến Nâng Cao Trong 30 Ngày',50000,'pending',NULL,0,NULL,'2026-01-19 19:05:47','2026-01-19 19:05:47'),(99,67,'nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/web-dev-master/','Complete web development course',50000,'pending',NULL,0,NULL,'2026-01-19 19:19:15','2026-01-19 19:19:15'),(100,68,'19d140071@gmail.com',NULL,'https://samsungu.udemy.com/course/web-dev-master/','Complete web development course',50000,'pending',NULL,0,NULL,'2026-01-19 19:19:58','2026-01-19 19:19:58'),(101,69,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/the-best-react-native-course/','The Best React Native Course 2026 (From Beginner To Expert)',50000,'pending',NULL,0,NULL,'2026-01-20 10:50:39','2026-01-20 10:50:39'),(102,70,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/30-days-of-code-the-complete-python-bootcamp-vietnamese/','Lập Trình Python Từ Cơ Bản Đến Nâng Cao Trong 30 Ngày',50000,'pending',NULL,0,NULL,'2026-01-20 16:21:15','2026-01-20 16:21:15'),(103,71,'downloadudemyfull@gmail.com',NULL,'https://samsungu.udemy.com/course/30-days-of-code-the-complete-python-bootcamp-vietnamese/','Lập Trình Python Từ Cơ Bản Đến Nâng Cao Trong 30 Ngày',50000,'pending',NULL,0,NULL,'2026-01-20 16:56:32','2026-01-20 16:56:32'),(104,72,'Nguyenhuuthanga3@gmail.com',NULL,'https://samsungu.udemy.com/course/100-days-of-code/','100 Days of Code™: The Complete Python Pro Bootcamp',30000,'pending',NULL,0,NULL,'2026-01-20 18:15:08','2026-01-20 18:15:08'),(105,73,'nhatjp12@gmail.com',NULL,'https://samsungu.udemy.com/course/complete-data-analyst-bootcamp-from-basics-to-advanced/','Complete Data Analyst Bootcamp From Basics To Advanced',30000,'pending',NULL,0,NULL,'2026-01-21 02:36:55','2026-01-21 02:36:55'),(106,74,'annguyenhoang20@gmail.com',NULL,'https://samsungu.udemy.com/course/ai-for-investment/','Ứng dụng AI trong Đầu tư Chứng khoán',30000,'completed','https://drive.google.com/drive/folders/1QRFSTGzL9-kcfvkASXlaU9f6zHST7aIO',0,NULL,'2026-01-21 04:15:50','2026-01-21 04:22:01'),(107,74,'annguyenhoang20@gmail.com',NULL,'https://samsungu.udemy.com/course/thanh-thao-jira/','Thành thạo Jira trong 2 giờ: Từ cơ bản đến nâng cao',30000,'completed','https://drive.google.com/drive/folders/1xzanVS7R6bTFqRz4WtE6n6LltKZ0K2rj',0,NULL,'2026-01-21 04:15:50','2026-01-21 04:20:55'),(108,74,'annguyenhoang20@gmail.com',NULL,'https://samsungu.udemy.com/course/an-ninh-thong-tin/','Nâng cao nhận thức về An ninh mạng và Bảo mật dữ liệu cho DN',30000,'completed','https://drive.google.com/drive/folders/1oNLzGD27p757jYCW9BQ1fTdWoI_NupzS',0,NULL,'2026-01-21 04:15:50','2026-01-21 04:22:38'),(109,74,'annguyenhoang20@gmail.com',NULL,'https://samsungu.udemy.com/course/tu-chu-tai-chinh/','Tự Chủ Tài Chính và Lập kế hoạch Đầu tư - tài chính cá nhân',30000,'completed','https://drive.google.com/drive/folders/1xUia_ueQPAjpR03cjz6qbSBVYgWIgkD4',0,NULL,'2026-01-21 04:15:50','2026-01-21 04:25:55'),(110,75,'tinhochome@gmail.com',NULL,'https://samsungu.udemy.com/course/cisco-ccna-200-301-training/','Cisco CCNA-200-301 Training',30000,'completed','https://drive.google.com/drive/folders/1z-SCeDxLDC2Q9XkPeCLgjO0BJUCkacNm',0,NULL,'2026-01-21 06:51:19','2026-01-21 07:17:17'),(111,76,'solumzsdasd3quars@gmail.com',NULL,'https://samsungu.udemy.com/course/docker-mastery/','Docker Mastery: with Kubernetes +Swarm from a Docker Captain',30000,'pending',NULL,0,NULL,'2026-01-21 10:43:24','2026-01-21 10:43:24'),(112,77,'dungl2903@gmail.com',NULL,'https://samsungu.udemy.com/course/machinelearning/','Machine Learning A-Z (Python & R in Data Science Course)',30000,'completed','https://drive.google.com/drive/folders/18YIJRXkT_R69SRvHvEbx4oIxldrE0-vo',0,NULL,'2026-01-21 13:54:55','2026-01-21 17:33:00'),(113,78,'vuxuanhung2203@gmail.com',NULL,'https://samsungu.udemy.com/course/an-ninh-mang-cho-nguoi-moi-bat-au/','An ninh mạng cho người mới bắt đầu',30000,'completed','https://drive.google.com/drive/folders/1nXq4hTV-xpxm_jCdijv7eDvJ_seBP_fX',0,NULL,'2026-01-21 13:55:08','2026-01-21 14:05:21'),(114,79,'hun9nd@gmail.com',NULL,'https://samsungu.udemy.com/course/khoa-hoc-ung-dung-google-sheets-trong-quan-ly-du-an-phan-mem/','Khóa học ứng dụng Google Sheets trong quản lý dự án phần mềm',30000,'pending',NULL,0,NULL,'2026-01-21 16:41:00','2026-01-21 16:41:00'),(115,79,'hun9nd@gmail.com',NULL,'https://samsungu.udemy.com/course/tro-thanh-project-manager-quan-ly-du-an/','Trở thành Project Manager (quản lý dự án) công ty phần mềm',30000,'pending',NULL,0,NULL,'2026-01-21 16:41:00','2026-01-21 16:41:00'),(116,79,'hun9nd@gmail.com',NULL,'https://samsungu.udemy.com/course/lap-trinh-java-backend-full-steps/','Lập trình Java Backend Full Steps',30000,'pending',NULL,0,NULL,'2026-01-21 16:41:00','2026-01-21 16:41:00'),(117,79,'hun9nd@gmail.com',NULL,'https://samsungu.udemy.com/course/thanh-thao-docker-tu-co-ban-den-nang-cao-ai-coding/','Thành Thạo Docker Từ Cơ Bản Đến Nâng Cao',30000,'pending',NULL,0,NULL,'2026-01-21 16:41:00','2026-01-21 16:41:00'),(118,80,'nicoledg932@gmail.com',NULL,'https://samsungu.udemy.com/course/django-python/','Build a Backend REST API with Python & Django - Beginner',30000,'pending',NULL,0,NULL,'2026-01-21 16:41:39','2026-01-21 16:41:39'),(119,81,'nicoledg932@gmail.com',NULL,'https://samsungu.udemy.com/course/django-python/','Build a Backend REST API with Python & Django - Beginner',30000,'completed','https://drive.google.com/drive/folders/1byHTVr9Z-LmHRi9dznPNWsq9N337xGZH',0,NULL,'2026-01-21 16:41:59','2026-01-21 16:58:40'),(120,82,'hun9nd@gmail.com',NULL,'https://samsungu.udemy.com/course/khoa-hoc-ung-dung-google-sheets-trong-quan-ly-du-an-phan-mem/','Khóa học ứng dụng Google Sheets trong quản lý dự án phần mềm',30000,'completed','https://drive.google.com/drive/folders/19xOc0YjzWKUL8dz95h-T0nhOCfxolSFc',0,NULL,'2026-01-21 17:29:19','2026-01-21 17:39:18'),(121,83,'nguyenkhaink110806@gmail.com',NULL,'https://samsungu.udemy.com/course/python-for-data-science-and-machine-learning-bootcamp/','Python for Data Science and Machine Learning Bootcamp',30000,'pending',NULL,0,NULL,'2026-01-22 01:08:14','2026-01-22 01:08:14'),(122,84,'nguyenkhaink110806@gmail.com',NULL,'https://samsungu.udemy.com/course/microsoft-power-bi-up-running-with-power-bi-desktop/','Microsoft Power BI with Desktop Training Course',30000,'completed','https://drive.google.com/drive/folders/1hZM_NPXBPyQsRLvBu5zAt08NzADPBfVA',0,NULL,'2026-01-22 01:14:57','2026-01-22 01:40:29'),(123,85,'thinhhuynh.dk2006@gmail.com',NULL,'https://samsungu.udemy.com/course/lap-trinh-java-cho-nguoi-moi-hoc/','Lập trình Java cho người mới học',30000,'completed','https://drive.google.com/drive/folders/13VTZiP5_HDKOZ6GKlm2RPtn90bDcUPFC',0,NULL,'2026-01-22 05:56:38','2026-01-22 07:53:19'),(124,86,'toan.dinhthe@hcmut.edu.vn',NULL,'https://samsungu.udemy.com/course/microsoft-excel-2013-from-beginner-to-advanced-and-beyond/','Microsoft Excel - Excel from Beginner to Advanced',30000,'completed','https://drive.google.com/drive/folders/1i4MezMwnXoPQo05YzdOIx-4CRNu6rCnB',0,NULL,'2026-01-22 06:12:53','2026-01-22 07:25:46'),(125,87,'tongvinh1512@gmail.com',NULL,'https://samsungu.udemy.com/course/learn-linux-kernel-programming/','Learn Linux Kernel Programming',30000,'completed','https://drive.google.com/drive/folders/1ww0pr8M8IjibAiuKpdgHUufnKrusFluT',0,NULL,'2026-01-22 06:41:42','2026-01-22 07:14:43'),(126,88,'nguyenmanhan19@gmail.com',NULL,'https://samsungu.udemy.com/course/prompt-engineering-for-ai/','The Complete Prompt Engineering for AI Bootcamp (2026)',50000,'pending',NULL,0,NULL,'2026-01-22 07:24:43','2026-01-22 07:24:43');
/*!40000 ALTER TABLE `download_tasks` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `order_audit_logs`
--

DROP TABLE IF EXISTS `order_audit_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `order_audit_logs` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `order_id` int(10) unsigned NOT NULL,
  `task_id` int(10) unsigned DEFAULT NULL COMMENT 'NULL for order-level events',
  `event_type` enum('order_created','payment_received','payment_verified','task_created','task_queued','enrollment_started','enrollment_success','enrollment_failed','download_started','download_completed','download_failed','upload_started','upload_completed','upload_failed','webhook_received','email_sent','order_completed','order_failed','status_change') NOT NULL,
  `event_category` enum('payment','enrollment','download','notification','system') NOT NULL,
  `severity` enum('info','warning','error','critical') DEFAULT 'info',
  `previous_status` varchar(50) DEFAULT NULL,
  `new_status` varchar(50) DEFAULT NULL,
  `message` text NOT NULL,
  `details` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Additional context: API responses, error stack traces, etc.' CHECK (json_valid(`details`)),
  `source` varchar(50) NOT NULL COMMENT 'Source of log: node_worker, python_worker, webhook_handler',
  `user_agent` varchar(255) DEFAULT NULL,
  `ip_address` varchar(45) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `order_audit_logs_order_id` (`order_id`),
  KEY `order_audit_logs_task_id` (`task_id`),
  KEY `order_audit_logs_event_type` (`event_type`),
  KEY `order_audit_logs_severity` (`severity`),
  KEY `order_audit_logs_created_at` (`created_at`),
  KEY `order_audit_logs_order_id_event_category` (`order_id`,`event_category`),
  KEY `order_audit_logs_order_id_severity` (`order_id`,`severity`),
  CONSTRAINT `order_audit_logs_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `order_audit_logs_ibfk_2` FOREIGN KEY (`task_id`) REFERENCES `download_tasks` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=136 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_audit_logs`
--

LOCK TABLES `order_audit_logs` WRITE;
/*!40000 ALTER TABLE `order_audit_logs` DISABLE KEYS */;
INSERT INTO `order_audit_logs` VALUES (60,35,53,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-16 17:14:17'),(61,35,54,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-16 17:14:17'),(62,35,53,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: machine-learning-for-absolute-beginners-level-2','{\"folderName\":\"machine-learning-for-absolute-beginners-level-2\",\"driveLink\":\"https://drive.google.com/drive/folders/1OYyZPpjCoTDDmUTWXAe-UC-yKeqZYdqJ\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-16 17:19:22'),(63,35,55,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-16 17:19:22'),(64,35,54,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: intro-to-data-science','{\"folderName\":\"intro-to-data-science\",\"driveLink\":\"https://drive.google.com/drive/folders/1UuVplXGB29b1f_6NG1d3LpbveRYnhAmz\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-16 17:21:05'),(65,35,56,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-16 17:21:05'),(66,35,55,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: r-analytics','{\"folderName\":\"r-analytics\",\"driveLink\":\"https://drive.google.com/drive/folders/1fWIC5nMfuoOh4nQXvO6AmUUPmYrlZ5V3\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-16 17:25:32'),(67,35,57,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-16 17:25:32'),(68,35,56,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: machine-learning-for-data-science','{\"folderName\":\"machine-learning-for-data-science\",\"driveLink\":\"https://drive.google.com/drive/folders/1b8yjdQ3rcYztLe3btivsR2j4Df8WLHh3\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-16 17:30:16'),(69,35,57,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: statistics-for-data-science-and-business-analysis','{\"folderName\":\"statistics-for-data-science-and-business-analysis\",\"driveLink\":\"https://drive.google.com/drive/folders/1k8uF8WeYPEqOur2QWHyYWoEGUzijaMmh\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-16 17:35:58'),(70,35,NULL,'order_completed','system','info','processing','completed','Order completed: 5/5 tasks successful','{\"totalTasks\":5,\"completedTasks\":5,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-16 17:35:58'),(71,36,58,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-17 03:03:23'),(72,36,58,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-17 03:22:50'),(73,36,58,'enrollment_started','enrollment','info',NULL,NULL,'Enrollment verified, starting download','{}','python_worker',NULL,NULL,'2026-01-17 03:22:50'),(74,36,58,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: machine-learning-for-data-science','{\"folderName\":\"machine-learning-for-data-science\",\"driveLink\":\"https://drive.google.com/drive/folders/1b8yjdQ3rcYztLe3btivsR2j4Df8WLHh3\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-17 03:28:01'),(75,36,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-17 03:28:01'),(76,36,58,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: machine-learning-for-data-science','{\"folderName\":\"machine-learning-for-data-science\",\"driveLink\":\"https://drive.google.com/drive/folders/1b8yjdQ3rcYztLe3btivsR2j4Df8WLHh3\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-17 03:28:02'),(77,36,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-17 03:28:02'),(78,37,59,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: java-tutorial','{\"folderName\":\"java-tutorial\",\"driveLink\":\"https://drive.google.com/drive/folders/1lYg4QaeSd-sKuS0wzi-a4gnJFdt0eR2r\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-17 07:23:30'),(79,37,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-17 07:23:30'),(80,37,59,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: java-tutorial','{\"folderName\":\"java-tutorial\",\"driveLink\":\"https://drive.google.com/drive/folders/1lYg4QaeSd-sKuS0wzi-a4gnJFdt0eR2r\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-17 07:23:35'),(81,37,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-17 07:23:35'),(82,44,66,'download_failed','download','error',NULL,NULL,'Download failed: Drive folder not found after 10 retries','{\"folderName\":\"Test-Course-Complete\",\"previousStatus\":\"processing\",\"newStatus\":\"failed\",\"retries\":10}','python_worker',NULL,NULL,'2026-01-18 01:47:38'),(83,44,NULL,'order_completed','system','warning','processing','completed','Order completed: 0/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":0,\"failedTasks\":1,\"allTasksSuccessful\":false}','webhook_handler',NULL,NULL,'2026-01-18 01:47:38'),(84,45,67,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: microsoft-powerpoint-powerpoint-from-beginner-to-pro','{\"folderName\":\"microsoft-powerpoint-powerpoint-from-beginner-to-pro\",\"driveLink\":\"https://drive.google.com/drive/folders/1FO6HLbw56kAvjLI1aaAJLF9ewE_mpFky\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-18 02:37:27'),(85,45,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-18 02:37:27'),(86,45,67,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: microsoft-powerpoint-powerpoint-from-beginner-to-pro','{\"folderName\":\"microsoft-powerpoint-powerpoint-from-beginner-to-pro\",\"driveLink\":\"https://drive.google.com/drive/folders/1FO6HLbw56kAvjLI1aaAJLF9ewE_mpFky\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-18 02:37:28'),(87,45,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-18 02:37:28'),(88,46,68,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: introduction-to-cloud-computing','{\"folderName\":\"introduction-to-cloud-computing\",\"driveLink\":\"https://drive.google.com/drive/folders/1Hjsy9xmOJU8l-wlK_90C5B5nb3kObreU\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-18 12:56:18'),(89,46,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-18 12:56:18'),(90,47,69,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: java-oop-iter-academy','{\"folderName\":\"java-oop-iter-academy\",\"driveLink\":\"https://drive.google.com/drive/folders/1FXolUkznDhhp_9e5i3YHMj5khBF6Ru8E\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-18 13:11:01'),(91,47,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-18 13:11:01'),(92,50,72,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt','{\"folderName\":\"huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt\",\"driveLink\":\"https://drive.google.com/drive/folders/18oBmGhWePSeprSJ_SuM795_jgv8k7AE6\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-18 14:59:44'),(93,50,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-18 14:59:44'),(94,59,81,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt','{\"folderName\":\"huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt\",\"driveLink\":\"https://drive.google.com/drive/folders/18oBmGhWePSeprSJ_SuM795_jgv8k7AE6\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 03:07:31'),(95,59,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-19 03:07:31'),(96,61,89,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: ren-luyen-ky-nang-doc-hieu-tieng-nhat-jlpt-n4','{\"folderName\":\"ren-luyen-ky-nang-doc-hieu-tieng-nhat-jlpt-n4\",\"driveLink\":\"https://drive.google.com/drive/folders/1oGNYe89Seti8hnhFGEF0LIJk5vGDFZEc\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 07:52:48'),(97,61,90,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: hoc-chu-cai-tieng-nhat-cho-nguoi-moi','{\"folderName\":\"hoc-chu-cai-tieng-nhat-cho-nguoi-moi\",\"driveLink\":\"https://drive.google.com/drive/folders/1FVW-xiRaArNbdH3JBktpRzK8k7a0oNYo\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 08:08:12'),(98,61,88,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: khoa-hoc-ngu-phap-tieng-nhat-minna-no-nihongo-n5','{\"folderName\":\"khoa-hoc-ngu-phap-tieng-nhat-minna-no-nihongo-n5\",\"driveLink\":\"https://drive.google.com/drive/folders/1QA8phf-C2HdySlkEURxq2dFSj7jTARMM\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 08:08:30'),(99,61,92,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt','{\"folderName\":\"huong-dan-chua-e-thi-tieng-nhat-cap-do-n5-jlpt\",\"driveLink\":\"https://drive.google.com/drive/folders/18oBmGhWePSeprSJ_SuM795_jgv8k7AE6\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 08:10:45'),(100,61,93,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: chua-de-thi-jlpt-n4','{\"folderName\":\"chua-de-thi-jlpt-n4\",\"driveLink\":\"https://drive.google.com/drive/folders/1-aoo8Dn8_rGVaHALituNZpKKfU5cUnG_\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 08:14:25'),(101,61,91,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: tieng-nhat-giao-tiep-cho-nguoi-i-lam-n5','{\"folderName\":\"tieng-nhat-giao-tiep-cho-nguoi-i-lam-n5\",\"driveLink\":\"https://drive.google.com/drive/folders/1OTwPQhAYz5w-9fD-a98ytmr7YUw_13u3\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 08:20:06'),(102,61,NULL,'order_completed','system','info','processing','completed','Order completed: 6/6 tasks successful','{\"totalTasks\":6,\"completedTasks\":6,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-19 08:20:06'),(103,62,94,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: generative-ai-for-beginners-b','{\"folderName\":\"generative-ai-for-beginners-b\",\"driveLink\":\"https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 15:27:59'),(104,62,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-19 15:27:59'),(105,63,95,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: generative-ai-for-beginners-b','{\"folderName\":\"generative-ai-for-beginners-b\",\"driveLink\":\"https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 15:49:00'),(106,63,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-19 15:49:00'),(107,64,96,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: generative-ai-for-beginners-b','{\"folderName\":\"generative-ai-for-beginners-b\",\"driveLink\":\"https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 15:53:19'),(108,64,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-19 15:53:19'),(109,65,97,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: generative-ai-for-beginners-b','{\"folderName\":\"generative-ai-for-beginners-b\",\"driveLink\":\"https://drive.google.com/drive/folders/1yV0dzVLZGeosumWwMDzeQWSYM9zcSoll\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-19 15:57:13'),(110,65,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-19 15:57:13'),(111,74,107,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: thanh-thao-jira','{\"folderName\":\"thanh-thao-jira\",\"driveLink\":\"https://drive.google.com/drive/folders/1xzanVS7R6bTFqRz4WtE6n6LltKZ0K2rj\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 04:20:55'),(112,74,106,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: ai-for-investment','{\"folderName\":\"ai-for-investment\",\"driveLink\":\"https://drive.google.com/drive/folders/1QRFSTGzL9-kcfvkASXlaU9f6zHST7aIO\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 04:22:01'),(113,74,108,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: an-ninh-thong-tin','{\"folderName\":\"an-ninh-thong-tin\",\"driveLink\":\"https://drive.google.com/drive/folders/1oNLzGD27p757jYCW9BQ1fTdWoI_NupzS\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 04:22:38'),(114,74,109,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: tu-chu-tai-chinh','{\"folderName\":\"tu-chu-tai-chinh\",\"driveLink\":\"https://drive.google.com/drive/folders/1xUia_ueQPAjpR03cjz6qbSBVYgWIgkD4\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 04:25:55'),(115,74,NULL,'order_completed','system','info','processing','completed','Order completed: 4/4 tasks successful','{\"totalTasks\":4,\"completedTasks\":4,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-21 04:25:55'),(116,75,110,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: cisco-ccna-200-301-training','{\"folderName\":\"cisco-ccna-200-301-training\",\"driveLink\":\"https://drive.google.com/drive/folders/1z-SCeDxLDC2Q9XkPeCLgjO0BJUCkacNm\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 07:17:17'),(117,75,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-21 07:17:17'),(118,78,113,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: an-ninh-mang-cho-nguoi-moi-bat-au','{\"folderName\":\"an-ninh-mang-cho-nguoi-moi-bat-au\",\"driveLink\":\"https://drive.google.com/drive/folders/1nXq4hTV-xpxm_jCdijv7eDvJ_seBP_fX\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 14:05:21'),(119,78,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-21 14:05:21'),(120,81,119,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: django-python','{\"folderName\":\"django-python\",\"driveLink\":\"https://drive.google.com/drive/folders/1byHTVr9Z-LmHRi9dznPNWsq9N337xGZH\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 16:58:40'),(121,81,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-21 16:58:40'),(122,77,112,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: machinelearning','{\"folderName\":\"machinelearning\",\"driveLink\":\"https://drive.google.com/drive/folders/18YIJRXkT_R69SRvHvEbx4oIxldrE0-vo\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 17:33:00'),(123,77,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-21 17:33:00'),(124,82,120,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: khoa-hoc-ung-dung-google-sheets-trong-quan-ly-du-an-phan-mem','{\"folderName\":\"khoa-hoc-ung-dung-google-sheets-trong-quan-ly-du-an-phan-mem\",\"driveLink\":\"https://drive.google.com/drive/folders/19xOc0YjzWKUL8dz95h-T0nhOCfxolSFc\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-21 17:39:18'),(125,82,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-21 17:39:18'),(126,84,122,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: microsoft-power-bi-up-running-with-power-bi-desktop','{\"folderName\":\"microsoft-power-bi-up-running-with-power-bi-desktop\",\"driveLink\":\"https://drive.google.com/drive/folders/1hZM_NPXBPyQsRLvBu5zAt08NzADPBfVA\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-22 01:40:29'),(127,84,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-22 01:40:29'),(128,87,125,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: learn-linux-kernel-programming','{\"folderName\":\"learn-linux-kernel-programming\",\"driveLink\":\"https://drive.google.com/drive/folders/1ww0pr8M8IjibAiuKpdgHUufnKrusFluT\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-22 07:14:43'),(129,87,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-22 07:14:43'),(130,86,124,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: microsoft-excel-2013-from-beginner-to-advanced-and-beyond','{\"folderName\":\"microsoft-excel-2013-from-beginner-to-advanced-and-beyond\",\"driveLink\":\"https://drive.google.com/drive/folders/1i4MezMwnXoPQo05YzdOIx-4CRNu6rCnB\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-22 07:25:46'),(131,86,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-22 07:25:46'),(132,85,123,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: lap-trinh-java-cho-nguoi-moi-hoc','{\"folderName\":\"lap-trinh-java-cho-nguoi-moi-hoc\",\"driveLink\":\"https://drive.google.com/drive/folders/13VTZiP5_HDKOZ6GKlm2RPtn90bDcUPFC\",\"previousStatus\":\"enrolled\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-22 07:53:19'),(133,85,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-22 07:53:19'),(134,85,123,'download_completed','download','info',NULL,NULL,'Download completed successfully. Drive folder: lap-trinh-java-cho-nguoi-moi-hoc','{\"folderName\":\"lap-trinh-java-cho-nguoi-moi-hoc\",\"driveLink\":\"https://drive.google.com/drive/folders/13VTZiP5_HDKOZ6GKlm2RPtn90bDcUPFC\",\"previousStatus\":\"completed\",\"newStatus\":\"completed\"}','python_worker',NULL,NULL,'2026-01-22 08:49:38'),(135,85,NULL,'order_completed','system','info','processing','completed','Order completed: 1/1 tasks successful','{\"totalTasks\":1,\"completedTasks\":1,\"failedTasks\":0,\"allTasksSuccessful\":true}','webhook_handler',NULL,NULL,'2026-01-22 08:49:38');
/*!40000 ALTER TABLE `order_audit_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `orders`
--

DROP TABLE IF EXISTS `orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `orders` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `order_code` varchar(50) NOT NULL,
  `user_email` varchar(255) NOT NULL,
  `total_amount` decimal(15,0) NOT NULL DEFAULT 0,
  `payment_status` enum('pending','paid','cancelled','refunded') DEFAULT 'pending',
  `order_status` enum('pending','processing','completed','failed') DEFAULT 'pending' COMMENT 'Tracks overall order fulfillment: pending → processing → completed/failed',
  `payment_gateway_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`payment_gateway_data`)),
  `note` text DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `order_code` (`order_code`)
) ENGINE=InnoDB AUTO_INCREMENT=98 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orders`
--

LOCK TABLES `orders` WRITE;
/*!40000 ALTER TABLE `orders` DISABLE KEYS */;
INSERT INTO `orders` VALUES (35,'DH000035','dobachkhoa2k1@gmail.com',199000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-17 00:13:31\",\"referenceCode\":\"868V602260165010\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000035\",\"content\":\"MBVCB.12619705040.6017BFTVG2WL24B5.DH000035.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":199000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-17 00:13:31\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000035\",\"content\":\"MBVCB.12619705040.6017BFTVG2WL24B5.DH000035.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12619705040.6017BFTVG2WL24B5.DH000035.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":199000,\"referenceCode\":\"868V602260165010\",\"accumulated\":5605793,\"id\":39095786}}',NULL,'2026-01-16 17:12:55','2026-01-16 17:35:58'),(36,'DH000036','nguyenhuuthanga3@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-17 10:03:11\",\"referenceCode\":\"868V602260170738\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000036\",\"content\":\"MBVCB.12622553350.6017BFTVG2WL9V7R.DH000036.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-17 10:03:11\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000036\",\"content\":\"MBVCB.12622553350.6017BFTVG2WL9V7R.DH000036.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12622553350.6017BFTVG2WL9V7R.DH000036.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260170738\",\"accumulated\":5655793,\"id\":39117410}}',NULL,'2026-01-17 03:02:46','2026-01-17 03:28:01'),(37,'DH000037','downloadudemyfull@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-17 14:13:12\",\"referenceCode\":\"868V602260171917\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000037\",\"content\":\"MBVCB.12625794737.6017BFTVG2WYWKYH.DH000037.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-17 14:13:12\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000037\",\"content\":\"MBVCB.12625794737.6017BFTVG2WYWKYH.DH000037.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12625794737.6017BFTVG2WYWKYH.DH000037.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260171917\",\"accumulated\":5705793,\"id\":39144100}}',NULL,'2026-01-17 07:12:57','2026-01-17 07:23:30'),(38,'DH000038','nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-17 18:58:54','2026-01-17 18:58:54'),(39,'DH000039','nguyenhuuthanga3@gmail.com',50000,'paid','processing','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 02:00:20\",\"referenceCode\":\"868V602260190378\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000039\",\"content\":\"MBVCB.12634098376.6018BFTVG2WAW5FJ.DH000039.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 02:00:20\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000039\",\"content\":\"MBVCB.12634098376.6018BFTVG2WAW5FJ.DH000039.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12634098376.6018BFTVG2WAW5FJ.DH000039.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260190378\",\"accumulated\":5755793,\"id\":39209872}}',NULL,'2026-01-17 18:59:54','2026-01-17 19:03:00'),(40,'DH000040','test@example.com',50000,'pending','pending',NULL,NULL,'2026-01-18 01:39:21','2026-01-18 01:39:22'),(41,'DH000041','test@example.com',50000,'pending','pending',NULL,NULL,'2026-01-18 01:39:36','2026-01-18 01:39:36'),(42,'DH000042','test@example.com',50000,'pending','pending',NULL,NULL,'2026-01-18 01:40:50','2026-01-18 01:40:50'),(43,'DH000043','test@example.com',50000,'pending','pending',NULL,NULL,'2026-01-18 01:42:20','2026-01-18 01:42:20'),(44,'DH000044','test@example.com',50000,'paid','completed','{\"gateway\":\"VCB\",\"transactionDate\":\"2026-01-18T01:42:59Z\",\"referenceCode\":\"REF1768700579\",\"accountNumber\":null,\"transferType\":null,\"code\":\"DH000044\",\"content\":\"Payment for DH000044\",\"transferAmount\":50000,\"fullPayload\":{\"code\":\"DH000044\",\"transferAmount\":50000,\"gateway\":\"VCB\",\"transactionDate\":\"2026-01-18T01:42:59Z\",\"referenceCode\":\"REF1768700579\",\"content\":\"Payment for DH000044\"}}',NULL,'2026-01-18 01:42:54','2026-01-18 01:47:38'),(45,'DH000045','nguyenhuuthanga3@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 09:03:16\",\"referenceCode\":\"868V602260190705\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000045\",\"content\":\"MBVCB.12635969408.6018BFTVG2WA5RRF.DH000045.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 09:03:16\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000045\",\"content\":\"MBVCB.12635969408.6018BFTVG2WA5RRF.DH000045.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12635969408.6018BFTVG2WA5RRF.DH000045.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260190705\",\"accumulated\":5775793,\"id\":39223623}}',NULL,'2026-01-18 02:02:49','2026-01-18 02:37:27'),(46,'DH000046','dobachkhoa2k1@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 09:15:21\",\"referenceCode\":\"868V602260190758\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000046\",\"content\":\"MBVCB.12636138571.6018BFTVG2WB2IV4.DH000046.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 09:15:21\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000046\",\"content\":\"MBVCB.12636138571.6018BFTVG2WB2IV4.DH000046.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12636138571.6018BFTVG2WB2IV4.DH000046.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260190758\",\"accumulated\":5825793,\"id\":39224948}}',NULL,'2026-01-18 02:15:06','2026-01-18 12:51:56'),(47,'DH000047','Nguyenhuuthanga3@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 20:07:14\",\"referenceCode\":\"868V602260193805\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000047\",\"content\":\"MBVCB.12646131532.6018BFTVG2WMTJTM.DH000047.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 20:07:14\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000047\",\"content\":\"MBVCB.12646131532.6018BFTVG2WMTJTM.DH000047.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12646131532.6018BFTVG2WMTJTM.DH000047.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260193805\",\"accumulated\":5875793,\"id\":39297865}}',NULL,'2026-01-18 13:06:57','2026-01-18 13:11:01'),(48,'DH000048','downloadudemyfull@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 14:17:21','2026-01-18 14:17:22'),(49,'DH000049','Nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 14:41:33','2026-01-18 14:41:33'),(50,'DH000050','nguyenhuuthanga3@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 21:55:26\",\"referenceCode\":\"868V602260194777\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000050\",\"content\":\"MBVCB.12647726301.6018BFTVG2WM9WB1.DH000050.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-18 21:55:26\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000050\",\"content\":\"MBVCB.12647726301.6018BFTVG2WM9WB1.DH000050.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12647726301.6018BFTVG2WM9WB1.DH000050.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260194777\",\"accumulated\":5925793,\"id\":39309291}}',NULL,'2026-01-18 14:54:02','2026-01-18 14:59:44'),(51,'DH000051','Nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 15:30:15','2026-01-18 15:30:15'),(52,'DH000052','nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 15:30:27','2026-01-18 15:30:27'),(53,'DH000053','Nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 16:47:31','2026-01-18 16:47:31'),(54,'DH000054','Nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 16:50:23','2026-01-18 16:50:23'),(55,'DH000055','nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 17:27:18','2026-01-18 17:27:18'),(56,'DH000056','nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-18 18:42:29','2026-01-18 18:42:29'),(57,'DH000057','nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-19 02:37:51','2026-01-19 02:37:51'),(58,'DH000058','Nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-19 02:59:03','2026-01-19 02:59:03'),(59,'DH000059','nguyenhuuthanga3@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 10:03:50\",\"referenceCode\":\"868V602260195820\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000059\",\"content\":\"MBVCB.12651482278.6019BFTVG2WCVEXV.DH000059.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 10:03:50\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000059\",\"content\":\"MBVCB.12651482278.6019BFTVG2WCVEXV.DH000059.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12651482278.6019BFTVG2WCVEXV.DH000059.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260195820\",\"accumulated\":5975793,\"id\":39339594}}',NULL,'2026-01-19 03:03:22','2026-01-19 03:07:31'),(60,'DH000060','nguyenhuuthanga3@gmail.com',300000,'pending','pending',NULL,NULL,'2026-01-19 07:48:19','2026-01-19 07:48:19'),(61,'DH000061','19d140071@gmail.com',300000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 14:49:37\",\"referenceCode\":\"868V602260197281\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000061\",\"content\":\"MBVCB.12655144755.6019BFTVG2W84VZV.DH000061.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":300000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 14:49:37\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000061\",\"content\":\"MBVCB.12655144755.6019BFTVG2W84VZV.DH000061.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12655144755.6019BFTVG2W84VZV.DH000061.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":300000,\"referenceCode\":\"868V602260197281\",\"accumulated\":6275793,\"id\":39369531}}',NULL,'2026-01-19 07:49:04','2026-01-19 08:20:06'),(62,'DH000062','getcourses.net@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:24:04\",\"referenceCode\":\"868V602260199291\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000062\",\"content\":\"MBVCB.12661852497.6019BFTVG2WFDTJ9.DH000062.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:24:04\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000062\",\"content\":\"MBVCB.12661852497.6019BFTVG2WFDTJ9.DH000062.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12661852497.6019BFTVG2WFDTJ9.DH000062.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260199291\",\"accumulated\":4325793,\"id\":39418910}}',NULL,'2026-01-19 15:23:45','2026-01-19 15:27:59'),(63,'DH000063','getcourses.net@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:46:16\",\"referenceCode\":\"868V602260199351\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000063\",\"content\":\"MBVCB.12661993949.6019BFTVG2WFITY2.DH000063.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:46:16\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000063\",\"content\":\"MBVCB.12661993949.6019BFTVG2WFITY2.DH000063.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12661993949.6019BFTVG2WFITY2.DH000063.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260199351\",\"accumulated\":4375793,\"id\":39420359}}',NULL,'2026-01-19 15:46:01','2026-01-19 15:49:00'),(64,'DH000064','getcourses.net@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:50:42\",\"referenceCode\":\"868V602260209360\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000064\",\"content\":\"MBVCB.12662015189.6019BFTVG2WFIWIJ.DH000064.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:50:42\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000064\",\"content\":\"MBVCB.12662015189.6019BFTVG2WFIWIJ.DH000064.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12662015189.6019BFTVG2WFIWIJ.DH000064.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260209360\",\"accumulated\":4425793,\"id\":39420648}}',NULL,'2026-01-19 15:50:23','2026-01-19 15:53:19'),(65,'DH000065','getcourses.net@gmail.com',50000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:54:38\",\"referenceCode\":\"868V602260200008\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000065\",\"content\":\"MBVCB.12662036746.6019BFTVG2WFIXPP.DH000065.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-19 22:54:38\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000065\",\"content\":\"MBVCB.12662036746.6019BFTVG2WFIXPP.DH000065.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12662036746.6019BFTVG2WFIXPP.DH000065.CT tu 9987027740 NGUYEN HUU THANG toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":50000,\"referenceCode\":\"868V602260200008\",\"accumulated\":4475793,\"id\":39420841}}',NULL,'2026-01-19 15:54:20','2026-01-19 15:57:13'),(66,'DH000066','nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-19 19:05:45','2026-01-19 19:05:45'),(67,'DH000067','nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-19 19:19:14','2026-01-19 19:19:14'),(68,'DH000068','19d140071@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-19 19:19:57','2026-01-19 19:19:57'),(69,'DH000069','Nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-20 10:50:37','2026-01-20 10:50:37'),(70,'DH000070','Nguyenhuuthanga3@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-20 16:21:14','2026-01-20 16:21:14'),(71,'DH000071','downloadudemyfull@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-20 16:56:31','2026-01-20 16:56:31'),(72,'DH000072','Nguyenhuuthanga3@gmail.com',30000,'pending','pending',NULL,NULL,'2026-01-20 18:15:06','2026-01-20 18:15:06'),(73,'DH000073','nhatjp12@gmail.com',30000,'pending','pending',NULL,NULL,'2026-01-21 02:36:53','2026-01-21 02:36:53'),(74,'DH000074','annguyenhoang20@gmail.com',120000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 11:16:59\",\"referenceCode\":\"868ITC1260214172\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000074\",\"content\":\"115330627549 0983336120 DH000074\",\"transferAmount\":120000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 11:16:59\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000074\",\"content\":\"115330627549 0983336120 DH000074\",\"transferType\":\"in\",\"description\":\"BankAPINotify 115330627549 0983336120 DH000074\",\"transferAmount\":120000,\"referenceCode\":\"868ITC1260214172\",\"accumulated\":4495793,\"id\":39563482}}',NULL,'2026-01-21 04:15:48','2026-01-21 04:25:55'),(75,'DH000075','tinhochome@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 13:51:59\",\"referenceCode\":\"868V602260212352\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000075\",\"content\":\"QR - DH000075\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 13:51:59\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000075\",\"content\":\"QR - DH000075\",\"transferType\":\"in\",\"description\":\"BankAPINotify QR - DH000075\",\"transferAmount\":30000,\"referenceCode\":\"868V602260212352\",\"accumulated\":4525793,\"id\":39579040}}',NULL,'2026-01-21 06:51:18','2026-01-21 07:17:17'),(76,'DH000076','solumzsdasd3quars@gmail.com',30000,'pending','pending',NULL,NULL,'2026-01-21 10:43:23','2026-01-21 10:43:23'),(77,'DH000077','dungl2903@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 20:55:26\",\"referenceCode\":\"868ITC126021A172\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000077\",\"content\":\"DH000077\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 20:55:26\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000077\",\"content\":\"DH000077\",\"transferType\":\"in\",\"description\":\"BankAPINotify DH000077\",\"transferAmount\":30000,\"referenceCode\":\"868ITC126021A172\",\"accumulated\":4555793,\"id\":39624351}}',NULL,'2026-01-21 13:54:52','2026-01-21 17:33:00'),(78,'DH000078','vuxuanhung2203@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 20:56:35\",\"referenceCode\":\"868ITC126021A17H\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000078\",\"content\":\"115394834369-0911755372-DH000078\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 20:56:35\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000078\",\"content\":\"115394834369-0911755372-DH000078\",\"transferType\":\"in\",\"description\":\"BankAPINotify 115394834369-0911755372-DH000078\",\"transferAmount\":30000,\"referenceCode\":\"868ITC126021A17H\",\"accumulated\":4585793,\"id\":39624472}}',NULL,'2026-01-21 13:55:06','2026-01-21 14:05:21'),(79,'DH000079','hun9nd@gmail.com',120000,'pending','pending',NULL,NULL,'2026-01-21 16:40:57','2026-01-21 16:40:57'),(80,'DH000080','nicoledg932@gmail.com',30000,'pending','pending',NULL,NULL,'2026-01-21 16:41:38','2026-01-21 16:41:38'),(81,'DH000081','nicoledg932@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 23:42:27\",\"referenceCode\":\"868ITC1260220235\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000081\",\"content\":\"DH000081\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-21 23:42:27\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000081\",\"content\":\"DH000081\",\"transferType\":\"in\",\"description\":\"BankAPINotify DH000081\",\"transferAmount\":30000,\"referenceCode\":\"868ITC1260220235\",\"accumulated\":4615793,\"id\":39636061}}',NULL,'2026-01-21 16:41:58','2026-01-21 16:58:40'),(82,'DH000082','hun9nd@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 00:30:38\",\"referenceCode\":\"868ITC1260220382\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000082\",\"content\":\"DH000082\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 00:30:38\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000082\",\"content\":\"DH000082\",\"transferType\":\"in\",\"description\":\"BankAPINotify DH000082\",\"transferAmount\":30000,\"referenceCode\":\"868ITC1260220382\",\"accumulated\":4645793,\"id\":39637854}}',NULL,'2026-01-21 17:29:16','2026-01-21 17:39:18'),(83,'DH000083','nguyenkhaink110806@gmail.com',30000,'pending','pending',NULL,NULL,'2026-01-22 01:08:12','2026-01-22 01:08:12'),(84,'DH000084','nguyenkhaink110806@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 08:15:43\",\"referenceCode\":\"868V602260220475\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000084\",\"content\":\"TPB;10001874613;DH000084\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 08:15:43\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000084\",\"content\":\"TPB;10001874613;DH000084\",\"transferType\":\"in\",\"description\":\"BankAPINotify TPB;10001874613;DH000084\",\"transferAmount\":30000,\"referenceCode\":\"868V602260220475\",\"accumulated\":4675793,\"id\":39649590}}',NULL,'2026-01-22 01:14:56','2026-01-22 01:40:29'),(85,'DH000085','thinhhuynh.dk2006@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 12:58:04\",\"referenceCode\":\"868V602260221879\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000085\",\"content\":\"MBVCB.12695312752.6022BFTVG2WWPXCK.DH000085.CT tu 1028633559 HUYNH NGUYEN HOANG THINH toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 12:58:04\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000085\",\"content\":\"MBVCB.12695312752.6022BFTVG2WWPXCK.DH000085.CT tu 1028633559 HUYNH NGUYEN HOANG THINH toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferType\":\"in\",\"description\":\"BankAPINotify MBVCB.12695312752.6022BFTVG2WWPXCK.DH000085.CT tu 1028633559 HUYNH NGUYEN HOANG THINH toi 10001874613 NGUYEN HUU THANG tai TPBANK\",\"transferAmount\":30000,\"referenceCode\":\"868V602260221879\",\"accumulated\":4705793,\"id\":39679048}}',NULL,'2026-01-22 05:56:37','2026-01-22 07:53:19'),(86,'DH000086','toan.dinhthe@hcmut.edu.vn',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 13:13:40\",\"referenceCode\":\"868ITC1260224592\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000086\",\"content\":\"DH000086\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 13:13:40\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000086\",\"content\":\"DH000086\",\"transferType\":\"in\",\"description\":\"BankAPINotify DH000086\",\"transferAmount\":30000,\"referenceCode\":\"868ITC1260224592\",\"accumulated\":4735793,\"id\":39680377}}',NULL,'2026-01-22 06:12:52','2026-01-22 07:25:46'),(87,'DH000087','tongvinh1512@gmail.com',30000,'paid','completed','{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 13:42:21\",\"referenceCode\":\"662V501260220941\",\"accountNumber\":\"10001874613\",\"transferType\":\"in\",\"code\":\"DH000087\",\"content\":\"DH000087\",\"transferAmount\":30000,\"fullPayload\":{\"gateway\":\"TPBank\",\"transactionDate\":\"2026-01-22 13:42:21\",\"accountNumber\":\"10001874613\",\"subAccount\":null,\"code\":\"DH000087\",\"content\":\"DH000087\",\"transferType\":\"in\",\"description\":\"BankAPINotify DH000087\",\"transferAmount\":30000,\"referenceCode\":\"662V501260220941\",\"accumulated\":4765793,\"id\":39682688}}',NULL,'2026-01-22 06:41:41','2026-01-22 07:14:43'),(88,'DH000088','nguyenmanhan19@gmail.com',50000,'pending','pending',NULL,NULL,'2026-01-22 07:24:42','2026-01-22 07:24:42'),(89,'TEST1769080327441','test@example.com',2000,'paid','completed',NULL,NULL,'2026-01-22 11:12:07','2026-01-22 11:12:07'),(90,'DH000090','test@example.com',30000,'pending','pending',NULL,NULL,'2026-01-22 11:12:07','2026-01-22 11:12:07'),(91,'EXIST1769080331847','test@example.com',2000,'paid','completed',NULL,NULL,'2026-01-22 11:12:11','2026-01-22 11:12:11'),(92,'TEST1769087365634','test@example.com',2000,'paid','completed',NULL,NULL,'2026-01-22 13:09:25','2026-01-22 13:09:25'),(93,'DH000093','test@example.com',30000,'pending','pending',NULL,NULL,'2026-01-22 13:09:25','2026-01-22 13:09:25'),(94,'EXIST1769087368890','test@example.com',2000,'paid','completed',NULL,NULL,'2026-01-22 13:09:28','2026-01-22 13:09:28'),(95,'EXIST1769087368924','test@example.com',2000,'paid','completed',NULL,NULL,'2026-01-22 13:09:28','2026-01-22 13:09:28'),(96,'DH000096','test@example.com',30000,'pending','pending',NULL,NULL,'2026-01-22 13:09:28','2026-01-22 13:09:28'),(97,'EXIST1769087407091','test@example.com',2000,'paid','completed',NULL,NULL,'2026-01-22 13:10:07','2026-01-22 13:10:07');
/*!40000 ALTER TABLE `orders` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `task_logs`
--

DROP TABLE IF EXISTS `task_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `task_logs` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `task_id` int(10) unsigned NOT NULL,
  `order_id` int(10) unsigned NOT NULL,
  `level` enum('debug','info','warn','error','critical') NOT NULL DEFAULT 'info',
  `category` enum('download','upload','enrollment','system') NOT NULL DEFAULT 'download',
  `message` text NOT NULL,
  `details` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Additional context: progress, file names, errors, etc.' CHECK (json_valid(`details`)),
  `progress_percent` decimal(5,2) DEFAULT NULL COMMENT 'Progress percentage (0-100)',
  `current_file` varchar(500) DEFAULT NULL COMMENT 'Current file being processed',
  `source` varchar(50) NOT NULL COMMENT 'Source: python_worker, node_worker, etc.',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `idx_task_id` (`task_id`),
  KEY `idx_order_id` (`order_id`),
  KEY `idx_created_at` (`created_at`),
  KEY `idx_level` (`level`),
  KEY `idx_category` (`category`),
  KEY `idx_task_level` (`task_id`,`level`),
  KEY `idx_order_category` (`order_id`,`category`),
  KEY `idx_task_created` (`task_id`,`created_at`),
  KEY `idx_progress` (`task_id`,`progress_percent`),
  CONSTRAINT `task_logs_ibfk_1` FOREIGN KEY (`task_id`) REFERENCES `download_tasks` (`id`) ON DELETE CASCADE,
  CONSTRAINT `task_logs_ibfk_2` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=133 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `task_logs`
--

LOCK TABLES `task_logs` WRITE;
/*!40000 ALTER TABLE `task_logs` DISABLE KEYS */;
INSERT INTO `task_logs` VALUES (103,53,35,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/machine-learning-for-absolute-beginners-level-2/\"}',NULL,NULL,'python_worker','2026-01-16 17:14:17'),(104,54,35,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/intro-to-data-science/\"}',NULL,NULL,'python_worker','2026-01-16 17:14:17'),(105,53,35,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-16 17:14:17'),(106,54,35,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-16 17:14:17'),(107,53,35,'info','download','Download progress: 70% (Download completed, preparing upload...)','{\"duration\":249,\"attempt\":1}',70.00,'Download completed, preparing upload...','python_worker','2026-01-16 17:18:26'),(108,53,35,'info','download','Download progress: 100% (Task completed successfully!)','{\"duration\":300,\"folderName\":\"machine-learning-for-absolute-beginners-level-2\"}',100.00,'Task completed successfully!','python_worker','2026-01-16 17:19:17'),(109,55,35,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/r-analytics/\"}',NULL,NULL,'python_worker','2026-01-16 17:19:22'),(110,55,35,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-16 17:19:22'),(111,54,35,'info','download','Download progress: 70% (Download completed, preparing upload...)','{\"duration\":329,\"attempt\":1}',70.00,'Download completed, preparing upload...','python_worker','2026-01-16 17:19:46'),(112,54,35,'info','download','Download progress: 100% (Task completed successfully!)','{\"duration\":403,\"folderName\":\"intro-to-data-science\"}',100.00,'Task completed successfully!','python_worker','2026-01-16 17:21:00'),(113,56,35,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/machine-learning-for-data-science/\"}',NULL,NULL,'python_worker','2026-01-16 17:21:05'),(114,56,35,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-16 17:21:05'),(115,55,35,'info','download','Download progress: 70% (Download completed, preparing upload...)','{\"duration\":311,\"attempt\":1}',70.00,'Download completed, preparing upload...','python_worker','2026-01-16 17:24:34'),(116,55,35,'info','download','Download progress: 100% (Task completed successfully!)','{\"duration\":366,\"folderName\":\"r-analytics\"}',100.00,'Task completed successfully!','python_worker','2026-01-16 17:25:29'),(117,57,35,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/statistics-for-data-science-and-business-analysis/\"}',NULL,NULL,'python_worker','2026-01-16 17:25:32'),(118,57,35,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-16 17:25:32'),(119,56,35,'info','download','Download progress: 70% (Download completed, preparing upload...)','{\"duration\":438,\"attempt\":1}',70.00,'Download completed, preparing upload...','python_worker','2026-01-16 17:28:24'),(120,56,35,'info','download','Download progress: 100% (Task completed successfully!)','{\"duration\":547,\"folderName\":\"machine-learning-for-data-science\"}',100.00,'Task completed successfully!','python_worker','2026-01-16 17:30:12'),(121,57,35,'info','download','Download progress: 70% (Download completed, preparing upload...)','{\"duration\":489,\"attempt\":1}',70.00,'Download completed, preparing upload...','python_worker','2026-01-16 17:33:41'),(122,57,35,'info','download','Download progress: 100% (Task completed successfully!)','{\"duration\":621,\"folderName\":\"statistics-for-data-science-and-business-analysis\"}',100.00,'Task completed successfully!','python_worker','2026-01-16 17:35:54'),(123,58,36,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/machine-learning-for-data-science/\"}',NULL,NULL,'python_worker','2026-01-17 03:03:23'),(124,58,36,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-17 03:03:23'),(125,58,36,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/machine-learning-for-data-science/\"}',NULL,NULL,'python_worker','2026-01-17 03:22:50'),(126,58,36,'info','download','Download started','{\"courseUrl\":\"https://samsungu.udemy.com/course/machine-learning-for-data-science/\"}',NULL,NULL,'python_worker','2026-01-17 03:22:50'),(127,58,36,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-17 03:22:51'),(128,58,36,'info','download','Download progress: 30% (Downloading course content...)','{\"attempt\":1}',30.00,'Downloading course content...','python_worker','2026-01-17 03:22:51'),(129,58,36,'info','download','Download progress: 70% (Download completed, preparing upload...)','{\"duration\":259,\"attempt\":1}',70.00,'Download completed, preparing upload...','python_worker','2026-01-17 03:27:10'),(130,58,36,'info','download','Download progress: 70% (Download completed, preparing upload...)','{\"duration\":259,\"attempt\":1}',70.00,'Download completed, preparing upload...','python_worker','2026-01-17 03:27:10'),(131,58,36,'info','download','Download progress: 100% (Task completed successfully!)','{\"duration\":306,\"folderName\":\"machine-learning-for-data-science\"}',100.00,'Task completed successfully!','python_worker','2026-01-17 03:27:57'),(132,58,36,'info','download','Download progress: 100% (Task completed successfully!)','{\"duration\":307,\"folderName\":\"machine-learning-for-data-science\"}',100.00,'Task completed successfully!','python_worker','2026-01-17 03:27:58');
/*!40000 ALTER TABLE `task_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Temporary table structure for view `v_order_errors`
--

DROP TABLE IF EXISTS `v_order_errors`;
/*!50001 DROP VIEW IF EXISTS `v_order_errors`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8mb4;
/*!50001 CREATE VIEW `v_order_errors` AS SELECT
 1 AS `order_id`,
  1 AS `error_count`,
  1 AS `error_types`,
  1 AS `last_error_at` */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `v_order_latest_events`
--

DROP TABLE IF EXISTS `v_order_latest_events`;
/*!50001 DROP VIEW IF EXISTS `v_order_latest_events`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8mb4;
/*!50001 CREATE VIEW `v_order_latest_events` AS SELECT
 1 AS `order_id`,
  1 AS `order_code`,
  1 AS `payment_status`,
  1 AS `order_status`,
  1 AS `event_type`,
  1 AS `message`,
  1 AS `severity`,
  1 AS `last_event_at` */;
SET character_set_client = @saved_cs_client;

--
-- Dumping events for database 'udemy_bot'
--

--
-- Dumping routines for database 'udemy_bot'
--

-- insufficient privileges to SHOW CREATE PROCEDURE `sp_log_audit_event`
-- does nht have permissions on mysql.proc?


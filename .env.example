# ==============================================================================
# ENVIRONMENT VARIABLES CONFIGURATION
# Production-Ready Backend System (Node.js + Python)
# ==============================================================================
#
# Copy this file to .env and fill in your actual values
# cp .env.example .env
# nano .env
#
# ⚠️ SECURITY WARNING: Never commit .env file to version control!
# Add .env to .gitignore
#
# ==============================================================================

# ==============================================================================
# NODE.JS SERVER CONFIGURATION
# ==============================================================================

# Server Environment (development | production | test)
NODE_ENV=production

# Server Port
PORT=3000

# ✅ SECURITY: CORS Configuration (CRITICAL FOR PRODUCTION)
# Production: Must be comma-separated list of allowed domains (NO WILDCARD!)
# Example: CORS_ORIGIN=https://getcourses.net,https://www.getcourses.net
# Development: Can use '*' for all origins
CORS_ORIGIN=https://getcourses.net,https://www.getcourses.net

# Frontend URL (for WebSocket and redirects)
FRONTEND_URL=https://getcourses.net

# WebSocket Path (default: /socket.io)
WEBSOCKET_PATH=/socket.io

# Enable WebSocket Debug (default: false)
ENABLE_WS_DEBUG=false

# Log Level (error | warn | info | debug)
LOG_LEVEL=info

# ==============================================================================
# DATABASE CONFIGURATION (MySQL)
# ==============================================================================

DB_HOST=localhost
DB_PORT=3306
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=your_database_name

# Enable Database Sync on Startup (default: false)
# ⚠️ WARNING: Only enable for development or initial setup
ENABLE_DB_SYNC=false

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================

# Redis Host
REDIS_HOST=localhost
REDIS_PORT=6379

# Redis Password (optional, leave empty if not using password)
REDIS_PASSWORD=

# ==============================================================================
# EMAIL CONFIGURATION (SMTP)
# ==============================================================================

# SMTP Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password

# Admin Email (for error alerts)
ADMIN_EMAIL=admin@getcourses.net

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================

# API Secret Key (for webhook authentication)
# ⚠️ CRITICAL: Generate a strong random key for production!
# Use: openssl rand -hex 32
API_SECRET_KEY=your_secret_key_here_change_this_in_production

# NextAuth Secret (for admin authentication)
# ⚠️ CRITICAL: Generate a strong random key for production!
NEXTAUTH_SECRET=your_nextauth_secret_here_change_this_in_production

# ==============================================================================
# UDEMY DOWNLOAD CONFIGURATION
# ==============================================================================

# Udemy Bearer Token (for course downloads)
UDEMY_TOKEN=your_udemy_bearer_token_here

# Cookies File Path (optional, defaults to cookies.txt in project root)
COOKIES_FILE=cookies.txt

# ✅ SECURITY: Python Download Timeout (in seconds)
# Default: 1800 seconds (30 minutes)
PYTHON_DOWNLOAD_TIMEOUT=1800

# ==============================================================================
# PYTHON WORKER CONFIGURATION
# ==============================================================================

# Backend API URL (for Python worker to call Node.js webhooks)
BACKEND_URL=http://localhost:3000

# Node API URL (for Python worker logging)
NODE_API_URL=http://localhost:3000

# Enable Debug Logging in Python (default: false)
DEBUG_LOGGING=false

# ==============================================================================
# PRICING CONFIGURATION
# ==============================================================================

# Price per course (in VND)
PRICE_PER_COURSE=50000

# ==============================================================================
# TASK RECOVERY CONFIGURATION
# ==============================================================================

# Enable Auto-Recovery for Stuck Tasks on Startup (default: true)
ENABLE_AUTO_RECOVERY=true

# Maximum Tasks to Recover (default: 100)
MAX_RECOVERY_TASKS=100

# ==============================================================================
# API BASE URL (for testing scripts)
# ==============================================================================

API_BASE_URL=http://localhost:3000
